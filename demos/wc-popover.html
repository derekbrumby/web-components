<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>&lt;wc-popover&gt; demo</title>
    <link rel="stylesheet" href="./demo-base.css" />
    <script type="module" src="../src/popover.js"></script>
    <style>
      .example-grid {
        display: grid;
        gap: 2rem;
      }

      @media (min-width: 720px) {
        .example-grid.two-column {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }

      .example-card {
        display: grid;
        gap: 1rem;
        padding: 1.75rem;
        border-radius: 1.25rem;
        background: var(--demo-card-background, rgba(255, 255, 255, 0.6));
        box-shadow: 0 24px 40px -32px rgba(15, 23, 42, 0.45);
      }

      .popover-toolbar {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }

      .popover-toolbar button {
        inline-size: 2.2rem;
        block-size: 2.2rem;
        border-radius: 999px;
        border: none;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: rgba(255, 255, 255, 0.85);
        color: #4338ca;
        box-shadow: 0 10px 24px -18px rgba(15, 23, 42, 0.45);
        cursor: pointer;
        transition: transform 160ms ease, box-shadow 160ms ease;
      }

      .popover-toolbar button:hover {
        transform: translateY(-1px);
        box-shadow: 0 20px 30px -22px rgba(79, 70, 229, 0.4);
      }

      .popover-toolbar button:focus-visible {
        outline: 3px solid rgba(99, 102, 241, 0.45);
        outline-offset: 3px;
      }

      .popover-content {
        display: grid;
        gap: 1rem;
        min-inline-size: 240px;
      }

      .popover-field {
        display: grid;
        gap: 0.35rem;
      }

      .popover-field label {
        font-size: 0.85rem;
        font-weight: 600;
        color: #3730a3;
        letter-spacing: 0.02em;
        text-transform: uppercase;
      }

      .popover-field input {
        width: 100%;
        padding: 0.5rem 0.75rem;
        border-radius: 0.65rem;
        border: 1px solid rgba(79, 70, 229, 0.35);
        background: rgba(255, 255, 255, 0.95);
        font: inherit;
        color: inherit;
      }

      .popover-field input:focus-visible {
        outline: 2px solid rgba(129, 140, 248, 0.8);
        outline-offset: 1px;
      }

      .popover-footer {
        display: flex;
        justify-content: flex-end;
        gap: 0.75rem;
        margin-top: 0.5rem;
      }

      .popover-footer button {
        padding: 0.5rem 0.85rem;
        border-radius: 0.75rem;
        font-size: 0.9rem;
        border: none;
        cursor: pointer;
      }

      .popover-footer button[type="button"] {
        background: transparent;
        color: rgba(71, 85, 105, 0.8);
      }

      .popover-footer button[type="submit"] {
        background: #4f46e5;
        color: #f8fafc;
        box-shadow: 0 16px 40px -24px rgba(79, 70, 229, 0.65);
      }

      .popover-outline {
        --wc-popover-surface: #0f172a;
        --wc-popover-color: #f8fafc;
        --wc-popover-border: 1px solid rgba(148, 163, 184, 0.2);
        --wc-popover-shadow: 0 32px 72px -32px rgba(15, 23, 42, 0.75);
        --wc-popover-radius: 16px;
        --wc-popover-padding: 1.5rem;
        --popover-arrow-shadow: none;
      }

      .plan-card {
        display: grid;
        gap: 0.35rem;
      }

      .plan-card h4 {
        font-size: 1.1rem;
        margin: 0;
      }

      .plan-card p {
        margin: 0;
        color: rgba(241, 245, 249, 0.85);
      }

      .plan-card ul {
        margin: 0;
        padding-left: 1.1rem;
        color: rgba(241, 245, 249, 0.75);
      }

      .plan-selector {
        display: grid;
        gap: 1.2rem;
      }

      .plan-selector__trigger {
        border: 1px solid rgba(99, 102, 241, 0.35);
        background: rgba(99, 102, 241, 0.12);
        color: #312e81;
        padding: 0.65rem 1rem;
        border-radius: 0.85rem;
        font-weight: 600;
        cursor: pointer;
        box-shadow: 0 10px 32px -26px rgba(76, 81, 191, 0.65);
      }

      .plan-selector__trigger:hover {
        background: rgba(99, 102, 241, 0.2);
      }

      .plan-selector__trigger:focus-visible {
        outline: 2px solid rgba(191, 219, 254, 0.95);
        outline-offset: 2px;
      }

      .plan-selector button {
        border: 1px solid rgba(148, 163, 184, 0.35);
        background: rgba(148, 163, 184, 0.08);
        color: inherit;
        padding: 0.75rem 1rem;
        border-radius: 0.85rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
      }

      .plan-selector button:hover {
        background: rgba(148, 163, 184, 0.18);
      }

      .plan-selector button:focus-visible {
        outline: 2px solid rgba(192, 132, 252, 0.85);
        outline-offset: 2px;
      }

      .backdrop {
        position: fixed;
        inset: 0;
        background: rgba(15, 23, 42, 0.45);
        border-radius: inherit;
        backdrop-filter: blur(3px);
        pointer-events: none;
      }
    </style>
  </head>
  <body>
    <main>
      <section data-docs="wc-popover"></section>
      <section>
        <div class="example-grid two-column">
          <div class="example-card">
            <h3>Design surface controls</h3>
            <p>
              Trigger a settings panel that stays aligned with the activator while respecting viewport bounds. Use
              <code>data-popover-close</code> to wire any control as the dismiss action.
            </p>
            <div class="popover-toolbar">
              <wc-popover side="bottom" align="center" data-code-example>
                <button slot="trigger" type="button" aria-label="Open layout controls">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                    <path
                      d="M5.5 3A2.5 2.5 0 0 1 8 5.5V6h8a1 1 0 0 1 0 2H8v.5a2.5 2.5 0 1 1-3 0V8H3a1 1 0 0 1 0-2h2V5.5A2.5 2.5 0 0 1 5.5 3Zm0 3A.5.5 0 0 0 5 6.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1A.5.5 0 0 0 6.5 6h-1ZM14.5 11a2.5 2.5 0 0 1 2.5 2.5V14h1a1 1 0 1 1 0 2h-1v.5a2.5 2.5 0 1 1-3 0V16H3a1 1 0 0 1 0-2h11v-.5A2.5 2.5 0 0 1 14.5 11Zm0 3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Z"
                    />
                  </svg>
                </button>
                <div slot="content" class="popover-content">
                  <header>
                    <h4 style="margin: 0">Dimensions</h4>
                    <p style="margin: 0; color: rgba(71, 85, 105, 0.75)">
                      Adjust layout constraints without leaving the canvas.
                    </p>
                  </header>
                  <form class="popover-fields" style="display: grid; gap: 0.85rem">
                    <div class="popover-field">
                      <label for="width">Width</label>
                      <input id="width" name="width" value="100%" />
                    </div>
                    <div class="popover-field">
                      <label for="maxWidth">Max width</label>
                      <input id="maxWidth" name="maxWidth" value="320px" />
                    </div>
                    <div class="popover-field">
                      <label for="height">Height</label>
                      <input id="height" name="height" value="auto" />
                    </div>
                    <div class="popover-field">
                      <label for="maxHeight">Max height</label>
                      <input id="maxHeight" name="maxHeight" value="720px" />
                    </div>
                    <div class="popover-footer">
                      <button type="button" data-popover-close>Cancel</button>
                      <button type="submit">Apply</button>
                    </div>
                  </form>
                </div>
              </wc-popover>
            </div>
          </div>

          <div class="example-card">
            <h3>Plan selector</h3>
            <p>
              Combine modal behaviour, collision-aware placement, and an optional anchor element to create rich overlay
              flows without dependency on a framework.
            </p>
            <div style="position: relative">
              <div class="backdrop" aria-hidden="true"></div>
              <div style="position: relative; display: grid; gap: 1rem; padding: 1.5rem;">
                <p style="margin: 0; color: rgba(15, 23, 42, 0.7)">Current plan: <strong>Essential</strong></p>
                <wc-popover
                  modal
                  side="top"
                  align="end"
                  side-offset="18"
                  align-offset="-12"
                  class="popover-outline"
                  data-code-example
                >
                  <button slot="trigger" type="button" class="plan-selector__trigger" style="justify-self: flex-start">
                    Change plan
                  </button>
                  <div slot="content" class="plan-selector">
                    <div class="plan-card">
                      <h4>Upgrade to Growth</h4>
                      <p>Scale collaboration with custom themes and audience analytics.</p>
                    </div>
                    <ul>
                      <li>Unlimited team seats</li>
                      <li>Audience segments &amp; filters</li>
                      <li>Advanced theming tokens</li>
                    </ul>
                    <button type="button" data-popover-close>
                      Select Growth
                      <span style="font-size: 0.85rem; opacity: 0.8">$24/mo</span>
                    </button>
                  </div>
                </wc-popover>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    
    <script type="module">
      import { renderComponentDocs } from './component-docs.js';
      renderComponentDocs('wc-popover');
    </script>
    <script type="module" src="./demo-code-blocks.js"></script>
  </body>
</html>
