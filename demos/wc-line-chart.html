<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>&lt;wc-line-chart&gt; demo</title>
    <link rel="stylesheet" href="./demo-base.css" />
    <script type="module" src="../src/chart-variants.js"></script>
    <style>
      .example-card {
        display: grid;
        gap: 1rem;
      }

      .chart-actions {
        display: flex;
        gap: 0.75rem;
        align-items: center;
      }

      .chart-actions label {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.4rem 0.75rem;
        border-radius: 0.5rem;
        border: 1px solid rgba(148, 163, 184, 0.35);
        background: rgba(148, 163, 184, 0.12);
        color: rgba(15, 23, 42, 0.8);
        font: inherit;
        cursor: pointer;
      }

      .chart-actions label:hover {
        background: rgba(148, 163, 184, 0.2);
      }

      .chart-compact {
        --wc-chart-background: rgba(15, 23, 42, 0.88);
        --wc-chart-foreground: rgba(226, 232, 240, 0.95);
        --wc-chart-border: rgba(148, 163, 184, 0.2);
        --wc-chart-grid: rgba(148, 163, 184, 0.25);
        --wc-chart-muted: rgba(203, 213, 225, 0.8);
        --wc-chart-tooltip-background: rgba(15, 23, 42, 0.95);
        --wc-chart-tooltip-foreground: rgba(226, 232, 240, 0.98);
        backdrop-filter: blur(12px);
      }

      .chart-compact::part(container) {
        border: 1px solid rgba(148, 163, 184, 0.35);
      }
    </style>
  </head>
  <body>
    <main>
      <section data-docs="wc-line-chart"></section>
      <section class="example-grid two-column">
        <div class="example-card" data-code-example>
          <h3>Device performance</h3>
          <p>
            Plot multiple series at once. Hover any point to compare desktop and mobile visitors for the
            selected day.
          </p>
          <wc-line-chart
            id="interactive-line"
            caption="Visitors by device"
            category-key="date"
            legend="false"
            class="chart-compact"
          >
            <span slot="title">Line chart – interactive</span>
            <span slot="description">90 days of traffic</span>
          </wc-line-chart>
          <div class="chart-actions">
            <label>
              <input type="checkbox" id="line-smooth" />
              Smooth curves
            </label>
          </div>
        </div>

        <div class="example-card" data-code-example>
          <h3>Smoothed trend</h3>
          <p>A minimal line chart showing a single series rendered with bezier smoothing.</p>
          <wc-line-chart
            id="linear-line"
            caption="Desktop visitors"
            category-key="month"
            legend="false"
            curve="smooth"
          >
            <span slot="title">Line chart – smooth</span>
            <span slot="description">January – June 2024</span>
          </wc-line-chart>
        </div>
      </section>
    </main>

    <script>
      const interactiveLine = document.getElementById('interactive-line');
      const linearLine = document.getElementById('linear-line');
      const lineSmooth = document.getElementById('line-smooth');
      const lineData = [
        { date: '2024-06-01', desktop: 178, mobile: 200 },
        { date: '2024-06-02', desktop: 470, mobile: 410 },
        { date: '2024-06-03', desktop: 103, mobile: 160 },
        { date: '2024-06-04', desktop: 439, mobile: 380 },
        { date: '2024-06-05', desktop: 88, mobile: 140 },
        { date: '2024-06-06', desktop: 294, mobile: 250 },
        { date: '2024-06-07', desktop: 323, mobile: 370 },
        { date: '2024-06-08', desktop: 385, mobile: 320 },
        { date: '2024-06-09', desktop: 438, mobile: 480 },
        { date: '2024-06-10', desktop: 155, mobile: 200 },
      ];

      const initLineCharts = () => {
        if (interactiveLine) {
          interactiveLine.config = {
            desktop: { label: 'Desktop', color: 'hsl(221 83% 53%)' },
            mobile: { label: 'Mobile', color: 'hsl(213 94% 68%)' },
          };
          interactiveLine.data = lineData;
          interactiveLine.curve = lineSmooth?.checked ? 'smooth' : 'linear';
        }

        if (linearLine) {
          linearLine.config = {
            desktop: { label: 'Desktop', color: 'hsl(221 83% 53%)' },
          };
          linearLine.data = [
            { month: 'January', desktop: 186 },
            { month: 'February', desktop: 305 },
            { month: 'March', desktop: 237 },
            { month: 'April', desktop: 173 },
            { month: 'May', desktop: 209 },
            { month: 'June', desktop: 214 },
          ];
          linearLine.curve = 'smooth';
        }
      };

      lineSmooth?.addEventListener('change', (event) => {
        if (!interactiveLine) return;
        const target = event.target;
        interactiveLine.curve = target?.checked ? 'smooth' : 'linear';
      });

      initLineCharts();
    </script>
    
    <script type="module">
      import { renderComponentDocs } from './component-docs.js';
      renderComponentDocs('wc-line-chart');
    </script>
    <script type="module" src="./demo-code-blocks.js"></script>
  </body>
</html>
