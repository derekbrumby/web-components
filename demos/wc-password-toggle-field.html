<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>&lt;wc-password-toggle-field&gt; demo</title>
    <link rel="stylesheet" href="./demo-base.css" />
    <script type="module" src="../src/password-toggle-field.js"></script>
  </head>
  <body>
    <main>
      <section data-docs="wc-password-toggle-field"></section>
      <section>
        <header>
          <h2>&lt;wc-password-toggle-field&gt;</h2>
          <p>
            A password input with a built-in visibility toggle. Pointer clicks return focus to the field, keyboard
            toggles keep the button active, and submissions automatically re-mask the value.
          </p>
        </header>

        <div class="example-grid two-column">
          <div class="example-card">
            <h3>Account sign in</h3>
            <form id="password-demo" onsubmit="event.preventDefault();" data-code-example>
              <label class="field">
                Email address
                <input type="email" name="email" autocomplete="email" value="p.duarte@example.com" required />
              </label>
              <label class="field">
                Password
                <wc-password-toggle-field
                  id="demo-password"
                  name="password"
                  autocomplete="current-password"
                  placeholder="Enter your password"
                  required
                ></wc-password-toggle-field>
              </label>
              <div class="actions">
                <button type="submit">Sign in</button>
              </div>
            </form>
            <pre class="log" id="password-log">Toggle or submit to see updates…</pre>
          </div>

          <div class="example-card">
            <h3>Themable reveal control</h3>
            <wc-password-toggle-field
              id="styled-password"
              name="secure"
              autocomplete="new-password"
              placeholder="Create a password"
              show-label="Show value"
              hide-label="Hide value"
              default-visible
              style="
                --wc-password-field-height: 2.75rem;
                --wc-password-field-radius: 999px;
                --wc-password-field-background: rgba(15, 23, 42, 0.85);
                --wc-password-field-border: 1px solid rgba(148, 163, 184, 0.35);
                --wc-password-field-border-hover: 1px solid rgba(165, 180, 252, 0.8);
                --wc-password-field-border-focus: 2px solid rgba(165, 180, 252, 1);
                --wc-password-field-shadow-focus: 0 0 0 6px rgba(99, 102, 241, 0.35);
                --wc-password-field-color: #f8fafc;
                --wc-password-field-placeholder: rgba(203, 213, 225, 0.8);
                --wc-password-field-toggle-size: 1.75rem;
                --wc-password-field-toggle-color: rgba(226, 232, 240, 0.85);
                --wc-password-field-toggle-color-active: #facc15;
                --wc-password-field-toggle-background-hover: rgba(250, 204, 21, 0.16);
              "
              data-code-example
            ></wc-password-toggle-field>
            <p class="note">
              All visual styles are controlled via CSS custom properties and <code>::part</code> selectors. The toggle
              button exposes <code>data-visible</code> state for fine-grained control.
            </p>
          </div>
        </div>
      </section>
    </main>

    <script>
      const passwordField = document.getElementById('demo-password');
      const passwordLog = document.getElementById('password-log');
      const passwordForm = document.getElementById('password-demo');

      if (passwordField && passwordLog) {
        passwordField.addEventListener('visibilitychange', (event) => {
          const visible = event.detail?.visible ? 'visible' : 'hidden';
          passwordLog.textContent = `Password is now ${visible}.`;
        });
      }

      if (passwordForm && passwordLog) {
        passwordForm.addEventListener('submit', () => {
          passwordLog.textContent = 'Form submitted — password re-masked.';
        });
      }
    </script>
    
    <script type="module">
      import { renderComponentDocs } from './component-docs.js';
      renderComponentDocs('wc-password-toggle-field');
    </script>
    <script type="module" src="./demo-code-blocks.js"></script>
  </body>
</html>
