<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>&lt;wc-context-menu&gt; demo</title>
    <link rel="stylesheet" href="./demo-base.css" />
    <script type="module" src="../src/context-menu.js"></script>
  </head>
  <body>
    <main>
      <section data-docs="wc-context-menu"></section>
      <section>
        <div class="example-grid two-column">
          <div class="example-card">
            <h3>Default interaction log</h3>
            <wc-context-menu id="context-menu-demo" data-code-example></wc-context-menu>
            <pre class="log" id="context-menu-log">Right-click or long-press to try it.</pre>
          </div>

          <div class="example-card">
            <h3>Themable surface</h3>
            <wc-context-menu
              id="context-menu-themed"
              style="
                --context-menu-trigger-width: 280px;
                --context-menu-trigger-background: linear-gradient(135deg, rgba(236, 72, 153, 0.55), rgba(14, 165, 233, 0.55));
                --context-menu-trigger-border: 2px dashed rgba(255, 255, 255, 0.6);
                --context-menu-trigger-color: #0f172a;
                --context-menu-background: rgba(15, 23, 42, 0.95);
                --context-menu-color: #e0e7ff;
                --context-menu-shadow: 0 22px 40px -24px rgba(14, 116, 144, 0.65);
                --context-menu-item-highlight: rgba(236, 72, 153, 0.35);
                --context-menu-separator-color: rgba(59, 130, 246, 0.4);
                --context-menu-indicator-color: #fbbf24;
              "
              data-code-example
            ></wc-context-menu>
            <p>
              Override the exposed CSS variables to adapt the trigger, surface, indicators, and highlighted state to
              your brand palette.
            </p>
          </div>
        </div>
      </section>
    </main>

    <script>
      const contextMenuDemo = document.getElementById('context-menu-demo');
      const contextMenuLog = document.getElementById('context-menu-log');
      if (contextMenuDemo && contextMenuLog) {
        const commandLabels = {
          back: 'Back',
          forward: 'Forward',
          reload: 'Reload',
          'save-page': 'Save Page As…',
          'create-shortcut': 'Create Shortcut…',
          'name-window': 'Name Window…',
          'dev-tools': 'Developer Tools',
        };
        const checkboxLabels = {
          bookmarks: 'Show Bookmarks',
          urls: 'Show Full URLs',
        };
        const personLabels = {
          pedro: 'Pedro Duarte',
          colm: 'Colm Tuite',
        };

        contextMenuDemo.addEventListener('select', (event) => {
          const command = event.detail?.command || 'unknown';
          const label = commandLabels[command] || command.replace(/-/g, ' ');
          contextMenuLog.textContent = `Selected action: ${label}.`;
        });

        contextMenuDemo.addEventListener('toggle', (event) => {
          const detail = event.detail || {};
          if (detail.type === 'checkbox') {
            const name = detail.name || 'option';
            const label = checkboxLabels[name] || name;
            contextMenuLog.textContent = `${label} ${detail.checked ? 'enabled' : 'disabled'}.`;
          } else if (detail.type === 'radio') {
            const value = detail.value || '';
            const person = personLabels[value] || value;
            contextMenuLog.textContent = `Primary person set to ${person}.`;
          }
        });
      }
    </script>
    
    <script type="module">
      import { renderComponentDocs } from './component-docs.js';
      renderComponentDocs('wc-context-menu');
    </script>
    <script type="module" src="./demo-code-blocks.js"></script>
  </body>
</html>
